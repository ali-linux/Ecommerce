(this.webpackJsonpecommarce=this.webpackJsonpecommarce||[]).push([[0],{119:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(23),c=r.n(n),s=r(7),i=r(36),o=r(75),l=r(76),d=r(32),j=r(11),u="CART_ADD_ITEM",p="CART_REMOVE_ITEM",b="CART_SAVE_SHIPPING_ADDRESS",h="CART_SAVE_PAYMENT_METHOD",O="CART_CLEAR_ITEMS",x="USER_LOGIN_REQUEST",m="USER_LOGIN_SUCCESS",g="USER_LOGIN_FAIL",f="USER_LOGOUT",y="USER_REGISTER_REQUEST",v="USER_REGISTER_SUCCESS",S="USER_REGISTER_FAIL",E="USER_DETAILS_REQUEST",I="USER_DETAILS_SUCCESS",C="USER_DETAILS_FAIL",_="USER_UPDATE_PROFILE_REQUEST",L="USER_UPDATE_PROFILE_SUCCESS",R="USER_UPDATE_PROFILE_FAIL",k="USER_LIST_REQUEST",N="USER_LIST_SUCCESS",w="USER_LIST_FAIL",T="USER_LIST_RESET",A="USER_DELETE_REQUEST",D="USER_DELETE_SUCCESS",P="USER_DELETE_FAIL",U="USER_DELETE_RESET",G="USER_UPDATE_REQUEST",F="USER_UPDATE_SUCCESS",M="USER_UPDATE_FAIL",J="USER_UPDATE_RESET",B="MESSAGE_SUCCESS",q="MESSAGE_FAIL",z="PRODUCT_LIST_REQUEST",Q="PRODUCT_LIST_SUCCESS",$="PRODUCT_LIST_FAIL",V="PRODUCT_DETAILS_REQUEST",Y="PRODUCT_DETAILS_SUCCESS",W="PRODUCT_DETAILS_FAIL",H="PRODUCT_DELETE_REQUEST",K="PRODUCT_DELETE_SUCCESS",Z="PRODUCT_DELETE_FAIL",X="PRODUCT_CREATE_REQUEST",ee="PRODUCT_CREATE_SUCCESS",te="PRODUCT_CREATE_FAIL",re="PRODUCT_CREATE_RESET",ae="PRODUCT_UPDATE_REQUEST",ne="PRODUCT_UPDATE_SUCCESS",ce="PRODUCT_UPDATE_FAIL",se="PRODUCT_UPDATE_RESET",ie="PRODUCT_CREATE_REVIEW_REQUEST",oe="PRODUCT_CREATE_REVIEW_SUCCESS",le="PRODUCT_CREATE_REVIEW_FAIL",de="PRODUCT_CREATE_REVIEW_RESET",je="PRODUCT_TOP_REQUEST",ue="PRODUCT_TOP_SUCCESS",pe="PRODUCT_TOP_FAIL",be="ORDER_CREATE_REQUEST",he="ORDER_CREATE_SUCCESS",Oe="ORDER_CREATE_FAIL",xe="ORDER_CREATE_RESET",me="ORDER_DETAILS_REQUEST",ge="ORDER_DETAILS_SUCCESS",fe="ORDER_DETAILS_FAIL",ye="ORDER_PAY_REQUEST",ve="ORDER_PAY_SUCCESS",Se="ORDER_PAY_FAIL",Ee="ORDER_PAY_RESET",Ie="ORDER_LIST_MY_REQUEST",Ce="ORDER_LIST_MY_SUCCESS",_e="ORDER_LIST_MY_FAIL",Le="ORDER_LIST_MY_RESET",Re="ORDER_LIST_REQUEST",ke="ORDER_LIST_SUCCESS",Ne="ORDER_LIST_FAIL",we="ORDER_DELIVER_REQUEST",Te="ORDER_DELIVER_SUCCESS",Ae="ORDER_DELIVER_FAIL",De="ORDER_DELIVER_RESET",Pe=Object(i.combineReducers)({ProductList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0,products:[]};case Q:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case $:return{loading:!1,error:t.payload};default:return e}},ProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(j.a)({loading:!0},e);case Y:return{loading:!1,product:t.payload};case W:return{loading:!1,error:t.payload};default:return e}},cartList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var r=t.payload,a=e.cartItems.find((function(e){return e.product===r.product}));return a?Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?r:e}))}):Object(j.a)(Object(j.a)({},e),{},{cartItems:[].concat(Object(d.a)(e.cartItems),[r])});case p:return Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case b:return Object(j.a)(Object(j.a)({},e),{},{shippingAddress:t.payload});case h:return Object(j.a)(Object(j.a)({},e),{},{paymentMethod:t.payload});case O:return localStorage.removeItem("cartItems"),Object(j.a)(Object(j.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case y:case _:return{loading:!0};case m:case v:case L:return{loading:!1,userInfo:t.payload};case g:case S:case R:return{loading:!1,error:t.payload};case f:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case I:return{loading:!1,user:t.payload};case C:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case he:return{loading:!1,success:!0,order:t.payload};case Oe:return{loading:!1,error:t.payload};case xe:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ge:return{loading:!1,order:t.payload};case fe:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ve:return{loading:!1,success:!0};case Se:return{loading:!1,error:t.payload};case Ee:return{};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Ce:return{loading:!1,orders:t.payload};case _e:return{loading:!1,error:t.payload};case Le:return{orders:[]};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case N:return{loading:!1,users:t.payload};case w:return{loading:!1,error:t.payload};case T:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case D:return{loading:!1,success:!0,message:t.payload};case P:return{loading:!1,error:t.payload};case U:return{};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case F:return{loading:!1,success:!0,user:t.payload};case M:return{loading:!1,error:t.payload};case J:return{user:{}};default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{success:!0};case q:return{success:!1};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case K:return{loading:!1,success:!0};case Z:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case ee:return{loading:!1,success:!0,product:t.payload};case te:return{loading:!1,error:t.payload};case re:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ne:return{loading:!1,success:!0,product:t.payload};case ce:return{loading:!1,error:t.payload};case se:return{product:{}};default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ke:return{loading:!1,orders:t.payload};case Ne:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Te:return{loading:!1,success:!0};case Ae:return{loading:!1,error:t.payload};case De:return{};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case de:return{success:!1};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(j.a)({loading:!0},e);case ue:return{loading:!1,products:t.payload};case pe:return{loading:!1,error:t.payload};default:return e}}}),Ue={cartList:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null,paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Ge=[l.a],Fe=Object(i.createStore)(Pe,Ue,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,Ge))),Me=(r(93),r(20)),Je=r(29),Be=r(21),qe=r(8),ze=r(141),Qe=r(9),$e=r.n(Qe),Ve=r(12),Ye=r(13),We=r.n(Ye),He="http://127.0.0.1:8000",Ke=r(15),Ze=r(10),Xe=r(0);var et=function(){var e=Object(a.useState)(""),t=Object(Ze.a)(e,2),r=t[0],n=t[1],c=Object(Ke.k)();return Object(Xe.jsx)(a.Fragment,{children:Object(Xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r?c.push("/?keyword=".concat(r,"&page=1")):c.push(c.location.pathname),console.log("Submithandler")},children:[Object(Xe.jsx)("input",{type:"text",placeholder:"Eg. Shirt, jeans",name:"q",onChange:function(e){return n(e.target.value)}}),Object(Xe.jsx)("button",{type:"submit",children:Object(Xe.jsx)(Me.a,{icon:Be.b,style:{color:"var(--primaryColor)"}})})]})})};var tt=function(){var e=Object(Ke.k)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,r=Object(s.b)();return Object(Xe.jsx)("header",{style:{background:"#333",color:"white"},children:Object(Xe.jsx)("nav",{children:Object(Xe.jsxs)("div",{className:"container",children:[Object(Xe.jsx)("div",{className:"rightSection",children:Object(Xe.jsxs)(qe.Link,{to:"/",children:[Object(Xe.jsx)("span",{className:"primarySpan",children:"Ku"}),"Commerce"]})}),Object(Xe.jsxs)("div",{className:"middleSection",children:[" ",Object(Xe.jsx)(et,{})," "]}),Object(Xe.jsxs)("div",{className:"leftSection",children:[Object(Xe.jsx)("div",{className:"cart",children:Object(Xe.jsx)(qe.Link,{to:"/shoppingcart",children:Object(Xe.jsx)(Me.a,{icon:Be.d,style:{color:"var(--primaryColor)"}})})}),t?Object(Xe.jsx)(a.Fragment,{children:Object(Xe.jsxs)(ze.a,{title:t.name,id:"username",style:{textTransform:"capitalize"},children:[Object(Xe.jsxs)(qe.Link,{className:"profile",style:{width:"160px",padding:"10px 25px"},to:"/profile",children:[Object(Xe.jsx)(Me.a,{icon:Be.h,style:{marginRight:5,color:"var(--primaryColor)"}}),"Profile"]}),Object(Xe.jsxs)(ze.a.Item,{onClick:function(t){e.push("/"),r(function(){var e=Object(Ve.a)($e.a.mark((function e(t){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:f}),t({type:Le}),t({type:T});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(Xe.jsx)(Me.a,{icon:Be.e,style:{marginRight:5,color:"var(--primaryColor)"}}),"Logout"]})]})}):Object(Xe.jsxs)(a.Fragment,{children:[Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)(Me.a,{icon:Be.h,style:{marginRight:5,color:"var(--primaryColor)"}}),Object(Xe.jsx)(qe.Link,{to:"/login",children:"Login"})]}),Object(Xe.jsxs)("div",{className:"signUp ",children:[Object(Xe.jsx)(Me.a,{icon:Be.i,style:{marginRight:5,color:"var(--primaryColor)"}}),Object(Xe.jsx)(qe.Link,{to:"/signup",children:"Sign up"})]})]}),t&&t.isAdmin&&Object(Xe.jsxs)(ze.a,{title:"Admin",id:"username",style:{width:"160px",padding:"10px 25px",textTransform:"capitalize"},children:[Object(Xe.jsxs)(qe.Link,{className:"profile",style:{width:"160px",padding:"10px 25px"},to:"/admin/users",children:[Object(Xe.jsx)(Me.a,{className:"icon",icon:Be.j,style:{marginRight:5,color:"var(--primaryColor)"}}),"Users"]}),Object(Xe.jsxs)(qe.Link,{className:"profile",style:{width:"160px",padding:"10px 25px"},to:"/admin/products",children:[Object(Xe.jsx)(Me.a,{className:"icon",icon:Be.a,style:{marginRight:5,color:"var(--primaryColor)"}}),"products"]}),Object(Xe.jsxs)(qe.Link,{className:"profile",style:{width:"160px",padding:"10px 25px"},to:"/admin/orders",children:[Object(Xe.jsx)(Me.a,{className:"icon",icon:Be.c,style:{marginRight:5,color:"var(--primaryColor)"}}),"Orders"]})]})]})]})})})};var rt=function(){return Object(Xe.jsxs)("footer",{className:"bg-white",children:[Object(Xe.jsx)("div",{className:"container py-5",children:Object(Xe.jsxs)("div",{className:"row py-4",children:[Object(Xe.jsxs)("div",{className:"col-lg-4 col-md-6 mb-4 mb-lg-0",children:[Object(Xe.jsx)("img",{src:"img/logo.png",alt:"",width:"180",className:"mb-3"}),Object(Xe.jsx)("p",{className:"font-italic text-muted",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."}),Object(Xe.jsxs)("ul",{className:"list-inline mt-4",children:[Object(Xe.jsx)("li",{className:"list-inline-item",children:Object(Xe.jsx)(qe.Link,{to:"#",target:"_blank",title:"twitter",children:Object(Xe.jsx)("i",{className:"fa fa-twitter"})})}),Object(Xe.jsx)("li",{className:"list-inline-item",children:Object(Xe.jsx)(qe.Link,{to:"#",target:"_blank",title:"facebook",children:Object(Xe.jsx)("i",{className:"fa fa-facebook"})})}),Object(Xe.jsx)("li",{className:"list-inline-item",children:Object(Xe.jsx)(qe.Link,{to:"#",target:"_blank",title:"instagram",children:Object(Xe.jsx)("i",{className:"fa fa-instagram"})})}),Object(Xe.jsx)("li",{className:"list-inline-item",children:Object(Xe.jsx)(qe.Link,{to:"#",target:"_blank",title:"pinterest",children:Object(Xe.jsx)("i",{className:"fa fa-pinterest"})})}),Object(Xe.jsx)("li",{className:"list-inline-item",children:Object(Xe.jsx)(qe.Link,{to:"#",target:"_blank",title:"vimeo",children:Object(Xe.jsx)("i",{className:"fa fa-vimeo"})})})]})]}),Object(Xe.jsxs)("div",{className:"col-lg-2 col-md-6 mb-4 mb-lg-0",children:[Object(Xe.jsx)("h6",{className:"text-uppercase font-weight-bold mb-4",children:"Shop"}),Object(Xe.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"For Women"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"For Men"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Stores"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Our Blog"})})]})]}),Object(Xe.jsxs)("div",{className:"col-lg-2 col-md-6 mb-4 mb-lg-0",children:[Object(Xe.jsx)("h6",{className:"text-uppercase font-weight-bold mb-4",children:"Company"}),Object(Xe.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Login"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Sign up"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Wishlist"})}),Object(Xe.jsx)("li",{className:"mb-2",children:Object(Xe.jsx)(qe.Link,{to:"#",className:"text-muted",children:"Our Products"})})]})]}),Object(Xe.jsxs)("div",{className:"col-lg-4 col-md-6 mb-lg-0",children:[Object(Xe.jsx)("h6",{className:"text-uppercase font-weight-bold mb-4",children:"Newsletter"}),Object(Xe.jsx)("p",{className:"text-muted mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At itaque temporibus."}),Object(Xe.jsx)("div",{className:"p-1 rounded border",children:Object(Xe.jsxs)("div",{className:"input-group",children:[Object(Xe.jsx)("input",{type:"email",placeholder:"Enter your email address","aria-describedby":"button-addon1",className:"form-control border-0 shadow-0"}),Object(Xe.jsx)("div",{className:"input-group-append",children:Object(Xe.jsx)("button",{id:"button-addon1",type:"submit",className:"btn btn-link",children:Object(Xe.jsx)("i",{className:"fa fa-paper-plane"})})})]})})]})]})}),Object(Xe.jsx)("div",{className:"bg-light py-4",children:Object(Xe.jsx)("div",{className:"container text-center",children:Object(Xe.jsx)("p",{className:"text-muted mb-0 py-2",children:Object(Xe.jsxs)("p",{className:"text-center",children:["Copyright @2021 | Designed by ",Object(Xe.jsx)(qe.Link,{to:"#",children:"Caesar Company"})]})})})})]})},at=r(137),nt=r(79),ct=r(145),st=r(140);var it=function(e){var t=e.product;return Object(Xe.jsxs)(ct.a,{className:"my-3 m- p-3 rounded",style:{minHeight:450},children:[Object(Xe.jsx)(qe.Link,{to:"products/".concat(t._id),children:Object(Xe.jsx)(ct.a.Img,{src:t.image})}),Object(Xe.jsxs)(ct.a.Body,{children:[Object(Xe.jsx)(qe.Link,{to:"products/".concat(t._id),children:Object(Xe.jsx)(ct.a.Title,{as:"div",children:Object(Xe.jsx)("strong",{children:t.name})})}),Object(Xe.jsx)(ct.a.Text,{as:"div",children:Object(Xe.jsxs)("div",{className:"my-3",style:{color:"var(--muted)",display:"flex",justifyContent:"center"},children:[Object(Xe.jsx)(st.a,{precision:.5,name:"read-only",value:parseInt(t.rating),readOnly:!0,style:{fontSize:19,paddingTop:2}}),Object(Xe.jsxs)("span",{style:{margin:0,marginLeft:7},children:[t.numReviews," Reviews"]})]})}),Object(Xe.jsxs)(ct.a.Text,{as:"h3",children:["$",t.price]})]})]})},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:z}),t.next=4,We.a.get("".concat(He,"/api/products").concat(e));case 4:a=t.sent,n=a.data,r({type:Q,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:$,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.details});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},lt=function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:V}),t.next=4,We.a.get("".concat(He,"/api/products/").concat(e));case 4:a=t.sent,n=a.data,r({type:Y,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:W,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.details});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},dt=r(135);var jt=function(e){var t=e.height,r=void 0===t?100:t,a=e.width,n=void 0===a?100:a;return Object(Xe.jsx)(dt.a,{animation:"border",role:"status",style:{height:{height:r},width:{width:n},margin:"auto",display:"block"},children:Object(Xe.jsx)("span",{className:"sr-only",children:" Loading..."})})},ut=r(144);var pt=function(e){var t=e.variant,r=e.children;return Object(Xe.jsx)(ut.a,{variant:t,children:r})},bt=r(146);var ht=function(e){var t=e.pages,r=e.page,a=e.keyword,n=void 0===a?"":a,c=e.isAdmin,s=void 0!==c&&c;return n&&(n=n.split("?keyword=")[1].split("&")[0]),Object(Xe.jsx)("div",{children:t>1&&Object(Xe.jsx)(bt.a,{children:Object(d.a)(Array(t).keys()).map((function(e){return Object(Xe.jsx)(Je.LinkContainer,{to:s?"/admin/products/?keyword=".concat(n,"&page=").concat(e+1):"/?keyword=".concat(n,"&page=").concat(e+1),children:Object(Xe.jsx)(bt.a.Item,{active:e+1===r,children:e+1})},e+1)}))})})},Ot=r(143),xt=r(136);var mt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productTopRated})),r=t.error,n=t.loading,c=t.products;return Object(a.useEffect)((function(){console.log(c),e(function(){var e=Object(Ve.a)($e.a.mark((function e(t){var r,a;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:je}),e.next=4,We.a.get("".concat(He,"/api/products/top/"));case 4:r=e.sent,a=r.data,t({type:ue,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:pe,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.details});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(Xe.jsx)(jt,{}):r?Object(Xe.jsx)(pt,{variant:"danger",children:r}):Object(Xe.jsx)(Ot.a,{pause:"hover",className:"bg-dark",touch:"true",children:c.map((function(e){return Object(Xe.jsx)(Ot.a.Item,{children:Object(Xe.jsxs)(qe.Link,{to:"/products/".concat(e._id),children:[Object(Xe.jsx)(xt.a,{src:e.image,alt:e.name,fluid:!0}),Object(Xe.jsx)(Ot.a.Caption,{className:"carousel.caption",children:Object(Xe.jsxs)("h4",{children:[e.name," ($",e.price,")"]})})]})},e._id)}))})};var gt=function(e){var t=e.history,r=Object(s.b)(),n=Object(s.c)((function(e){return e.ProductList})),c=n.error,i=n.products,o=n.loading,l=n.page,d=n.pages,j=t.location.search;return Object(a.useEffect)((function(){r(ot(j))}),[r,j]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(mt,{}),Object(Xe.jsx)("h1",{className:"mt-3",children:"Latest Products"}),o?Object(Xe.jsx)(jt,{}):c?Object(Xe.jsxs)(pt,{variant:"danger",children:[" ",c," "]}):Object(Xe.jsxs)(a.Fragment,{children:[Object(Xe.jsx)(at.a,{children:i.map((function(e){return Object(Xe.jsx)(nt.a,{sm:12,md:6,lg:4,xl:4,children:Object(Xe.jsx)(it,{product:e})},e._id)}))}),Object(Xe.jsx)(ht,{page:l,pages:d,keyword:j})]})]})},ft=r(147),yt=r(142),vt=r(78),St=function(e,t){return function(){var r=Object(Ve.a)($e.a.mark((function r(a,n){var c,s;return $e.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,We.a.get("".concat(He,"/api/products/").concat(e));case 2:c=r.sent,s=c.data,a({type:u,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cartList.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};var Et=function(e){var t=e.match,r=e.history,n=Object(a.useState)(1),c=Object(Ze.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(0),j=Object(Ze.a)(l,2),u=j[0],p=j[1],b=Object(a.useState)(""),h=Object(Ze.a)(b,2),O=h[0],x=h[1],m=Object(s.b)(),g=Object(s.c)((function(e){return e.ProductDetails})),f=g.error,y=g.product,v=g.loading,S=Object(s.c)((function(e){return e.userLogin})).userInfo,E=Object(s.c)((function(e){return e.productReviewCreate})),I=E.error,C=E.success,_=E.loading;Object(a.useEffect)((function(){C&&(p(0),x(""),m({type:de})),m(lt(parseInt(t.params.id)))}),[t.params.id,m,C]);var L=t.params.id;return Object(Xe.jsxs)(a.Fragment,{children:[Object(Xe.jsx)(qe.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),v?Object(Xe.jsx)(jt,{}):f?Object(Xe.jsx)(pt,{variant:"warning",children:"The item you are looking for is not available"}):Object(Xe.jsxs)("div",{children:[Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:6,children:Object(Xe.jsx)(xt.a,{src:y.image,alt:y.name,fluid:!0})}),Object(Xe.jsx)(nt.a,{md:3,children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)("h3",{children:y.name})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)(st.a,{precision:.5,name:"read-only",value:parseInt(y.rating),readOnly:!0,style:{fontSize:19,paddingTop:2}})}),Object(Xe.jsxs)(ft.a.Item,{children:["Price: $",y.price]}),Object(Xe.jsxs)(ft.a.Item,{children:["Description: ",y.description]})]})}),Object(Xe.jsx)(nt.a,{md:3,children:Object(Xe.jsx)(ct.a,{children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Price:"}),Object(Xe.jsx)(nt.a,{children:Object(Xe.jsxs)("strong",{children:["$",y.price]})})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Status:"}),Object(Xe.jsx)(nt.a,{children:y.countInStock>0?"In Stock":"Out of Stock"})]})}),y.countInStock>0&&Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Qty"}),Object(Xe.jsx)(nt.a,{xs:"auto",className:"my-1",children:Object(Xe.jsx)(yt.a.Control,{as:"select",value:i,onChange:function(e){console.log({qty:i}),o(parseInt(e.target.value)),console.log({qty:i})},children:Object(d.a)(Array(y.countInStock).keys()).map((function(e){return Object(Xe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)(vt.a,{onClick:function(){m(St(L,i)),r.push("/shoppingcart/")},className:"btn-block bg-dark  ",disabled:0===y.countInStock,type:"button",children:"Add to Cart"})})]})})})]}),Object(Xe.jsx)(at.a,{children:Object(Xe.jsxs)(nt.a,{md:6,children:[Object(Xe.jsx)("h4",{children:"Reviews"}),0===y.reviews.length&&Object(Xe.jsx)(pt,{variant:"info",children:"No Reviews"}),Object(Xe.jsxs)(ft.a,{variant:"flush",children:[y.reviews.map((function(e){return Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("strong",{children:e.name}),Object(Xe.jsx)(st.a,{value:e.rating,color:"#f8e825",precision:.5,name:"read-only",readOnly:!0,style:{fontSize:19,paddingTop:2}}),Object(Xe.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(Xe.jsx)("p",{children:e.comment})]},e._id)})),Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h4",{children:"Write a review"}),_&&Object(Xe.jsx)(jt,{}),C&&Object(Xe.jsx)(pt,{variant:"success",children:"Review Submitted"}),I&&Object(Xe.jsx)(pt,{variant:"danger",children:I}),S?Object(Xe.jsxs)(yt.a,{onSubmit:function(e){var t,r;e.preventDefault(),m((t=L,r={rating:u,comment:O},function(){var e=Object(Ve.a)($e.a.mark((function e(a){var n,c,s,i;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:ie}),n=JSON.parse(localStorage.getItem("userInfo")),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,We.a.post("".concat(He,"/api/products/").concat(t,"/reviews/"),r,c);case 6:s=e.sent,i=s.data,a({type:oe,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:le,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.details});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),console.log("submit")},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"rating",children:[Object(Xe.jsx)(yt.a.Label,{children:"Rating"}),Object(Xe.jsxs)(yt.a.Control,{as:"select",value:u,onChange:function(e){return p(e.target.value)},children:[Object(Xe.jsx)("option",{value:"",children:"Select..."}),Object(Xe.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Xe.jsx)("option",{value:"2",children:"2 - Fair"}),Object(Xe.jsx)("option",{value:"3",children:"3 - Good"}),Object(Xe.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(Xe.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"comment",children:[Object(Xe.jsx)(yt.a.Label,{children:"Review"}),Object(Xe.jsx)(yt.a.Control,{as:"textarea",row:"5",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(Xe.jsx)(vt.a,{disabled:_,type:"submit",variant:"primary",children:"Submit"})]}):Object(Xe.jsxs)(pt,{variant:"info",children:["Please ",Object(Xe.jsx)(qe.Link,{to:"/login",children:"login"})," to write a review"]})]})]})]})})]})]})},It=r(138);var Ct=function(e){var t=e.children;return Object(Xe.jsx)(It.a,{children:Object(Xe.jsx)(at.a,{className:"justify-content-md-center",children:Object(Xe.jsx)(nt.a,{xs:12,md:6,children:t})})})};var _t=function(e){var t=e.Location,r=e.history,n=Object(a.useState)(""),c=Object(Ze.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(""),d=Object(Ze.a)(l,2),j=d[0],u=d[1],p=Object(s.b)(),b=t?t.search.split("=")[1]:"/",h=Object(s.c)((function(e){return e.userLogin})),O=h.error,f=h.loading,y=h.userInfo;return Object(a.useEffect)((function(){y&&r.push(b)}),[r,y,b]),Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)("h1",{children:" Login "}),O&&Object(Xe.jsx)(pt,{variant:"danger",children:O}),f&&Object(Xe.jsx)(jt,{height:"100",width:"100"}),Object(Xe.jsxs)(yt.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var r=Object(Ve.a)($e.a.mark((function r(a){var n,c,s;return $e.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:x}),n={headers:{"Content-type":"application/json"}},r.next=5,We.a.post("".concat(He,"/api/user/login/"),{email:e,password:t},n);case 5:c=r.sent,s=c.data,a({type:m,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:g,payload:r.t0.response&&r.t0.response.data.details?r.t0.response.data.details:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(i,j)),console.log({password:j},{email:i})},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"email",children:[Object(Xe.jsx)(yt.a.Label,{children:"Email Address"}),Object(Xe.jsx)(yt.a.Control,{type:"email",placeholder:"Enter Email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"password",children:[Object(Xe.jsx)(yt.a.Label,{children:"password"}),Object(Xe.jsx)(yt.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Xe.jsxs)(vt.a,{type:"submit",variant:"primary",children:[" ","Login"]})]}),Object(Xe.jsx)(at.a,{className:"py-3",children:Object(Xe.jsxs)(nt.a,{children:["Don't have an Account?",Object(Xe.jsx)(qe.Link,{to:b?"/signup?redirect=".concat(b):"/signup",children:"Sign Up"})]})})]})};var Lt=function(e){var t=e.Location,r=e.history,n=Object(a.useState)(""),c=Object(Ze.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(""),d=Object(Ze.a)(l,2),j=d[0],u=d[1],p=Object(a.useState)(""),b=Object(Ze.a)(p,2),h=b[0],O=b[1],x=Object(a.useState)(""),m=Object(Ze.a)(x,2),g=m[0],f=m[1],E=Object(a.useState)(""),I=Object(Ze.a)(E,2),C=I[0],_=I[1],L=Object(a.useState)(""),R=Object(Ze.a)(L,2),k=R[0],N=R[1],w=Object(a.useState)(""),T=Object(Ze.a)(w,2),A=T[0],D=T[1],P=Object(s.b)(),U=t?t.search.split("=")[1]:"/",G=Object(s.c)((function(e){return e.userLogin})),F=G.error,M=G.loading,J=G.userInfo;return Object(a.useEffect)((function(){J&&r.push(U)}),[r,J,U]),Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)("h1",{children:" Sign up "}),A&&Object(Xe.jsx)(pt,{variant:"danger",children:A}),F&&Object(Xe.jsx)(pt,{variant:"danger",children:F}),M&&Object(Xe.jsx)(jt,{height:"100",width:"100"}),Object(Xe.jsxs)(yt.a,{onSubmit:function(e){e.preventDefault(),C!==k?D("Passwords do not match"):(D(""),P(function(e,t,r,a,n){return function(){var c=Object(Ve.a)($e.a.mark((function c(s){var i,o,l;return $e.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:y}),i={headers:{"Content-type":"application/json"}},c.next=5,We.a.post("".concat(He,"/api/user/signup/"),{email:e,username:t,password:r,first_name:a,last_name:n},i);case 5:o=c.sent,l=o.data,s({type:v,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),s({type:S,payload:c.t0.response&&c.t0.response.data.details?c.t0.response.data.details:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(j,i,C,h,g)))},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"username",children:[Object(Xe.jsx)(yt.a.Label,{children:"Username"}),Object(Xe.jsx)(yt.a.Control,{required:!0,type:"text",placeholder:"Enter a unique username",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"first-name",children:[Object(Xe.jsx)(yt.a.Label,{children:"First name "}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter your first name",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"last-name",children:[Object(Xe.jsx)(yt.a.Label,{children:"Last Name "}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter your last name",value:g,onChange:function(e){return f(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"email",children:[Object(Xe.jsx)(yt.a.Label,{children:"Email "}),Object(Xe.jsx)(yt.a.Control,{type:"email",required:!0,placeholder:"Enter your email address",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"password1",children:[Object(Xe.jsx)(yt.a.Label,{children:"Password "}),Object(Xe.jsx)(yt.a.Control,{type:"password",placeholder:"Enter Password",value:C,onChange:function(e){return _(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"password2",children:[Object(Xe.jsx)(yt.a.Label,{children:"Confirm password "}),Object(Xe.jsx)(yt.a.Control,{type:"password",placeholder:"Confirm Password",value:k,onChange:function(e){return N(e.target.value)}})]}),Object(Xe.jsxs)(vt.a,{type:"submit",variant:"primary",children:[" ","Sign up"]})]}),Object(Xe.jsx)(at.a,{className:"py-3",children:Object(Xe.jsxs)(nt.a,{children:["have an Account?",Object(Xe.jsx)(qe.Link,{to:U?"/login?redirect=".concat(U):"/login",children:"Login"})]})})]})};var Rt=function(e){e.match,e.Location;var t=e.history,r=Object(s.b)(),n=Object(s.c)((function(e){return e.cartList})).cartItems,c=function(e){r(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r,a){return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:p,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cartList.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Xe.jsxs)(a.Fragment,{children:[Object(Xe.jsx)("h1",{children:"Shopping Cart"}),Object(Xe.jsx)(qe.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:8,children:0===n.length?Object(Xe.jsx)(pt,{variant:"info",children:"You don't have any item in your cart"}):Object(Xe.jsx)(ft.a,{variant:"flush",children:n.map((function(e){return Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:2,children:Object(Xe.jsx)(xt.a,{src:e.image,alt:e.name,fluid:!0})}),Object(Xe.jsx)(nt.a,{md:3,children:Object(Xe.jsx)(qe.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(Xe.jsxs)(nt.a,{md:2,children:["$",e.price]}),Object(Xe.jsx)(nt.a,{md:3,children:Object(Xe.jsx)(yt.a.Control,{as:"select",value:e.qty,onChange:function(t){r(St(e.product,parseInt(t.target.value)))},children:Object(d.a)(Array(e.countInStock).keys()).map((function(e){return Object(Xe.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(Xe.jsx)(nt.a,{md:1,children:Object(Xe.jsx)(vt.a,{type:"button",variant:"light",onClick:function(){return c(e.product)},children:Object(Xe.jsx)(Me.a,{icon:Be.g})})})]})},e.product)}))})}),Object(Xe.jsx)(nt.a,{md:4,children:Object(Xe.jsx)(ct.a,{style:{padding:20},children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsxs)("h2",{children:["SUBTOTAL( ",n.reduce((function(e,t){return e+t.qty}),0)," ",") ITEMS"]}),"$",n.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)("button",{type:"button",className:"btn-block btn-dark p-2",disabled:0===n.length,onClick:function(){localStorage.getItem("userInfo")?t.push("/shipping"):t.push("/login?redirect=shipping")},children:"Proceed to Checkout"})})]})})})]})]})},kt=r(139),Nt=function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r,a){var n,c,s,i;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:me}),n=JSON.parse(localStorage.getItem("userInfo")),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.get("".concat(He,"/api/order/").concat(e),c);case 6:s=t.sent,i=s.data,r({type:ge,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:fe,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var wt=function(e){var t=e.history,r=Object(a.useState)(""),n=Object(Ze.a)(r,2),c=n[0],i=n[1],o=Object(a.useState)(""),l=Object(Ze.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(""),p=Object(Ze.a)(u,2),b=p[0],h=p[1],O=Object(a.useState)(""),x=Object(Ze.a)(O,2),m=x[0],g=x[1],f=Object(a.useState)(""),y=Object(Ze.a)(f,2),v=y[0],S=y[1],E=Object(a.useState)(""),I=Object(Ze.a)(E,2),C=I[0],k=I[1],N=Object(a.useState)(""),w=Object(Ze.a)(N,2),T=(w[0],w[1],Object(s.b)()),A=Object(s.c)((function(e){return e.userLogin})),D=(A.error,A.loading,A.userInfo),P=Object(s.c)((function(e){return e.orderList})),U=P.loading,G=P.error,F=P.orders;return Object(a.useEffect)((function(){D?(T(function(){var e=Object(Ve.a)($e.a.mark((function e(t){var r,a,n,c;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ie}),r=JSON.parse(localStorage.getItem("userInfo")),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,We.a.get("".concat(He,"/api/order/myorders"),a);case 6:n=e.sent,c=n.data,t({type:Ce,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:_e,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),i(D.username),j(D.email),h(D.first_name),g(D.last_name)):t.push("/login")}),[]),Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsxs)(nt.a,{md:4,sm:6,className:"py-3",children:[Object(Xe.jsx)("h2",{children:"User Profile"}),Object(Xe.jsxs)(yt.a,{onSubmit:function(e){var t,r;e.preventDefault(),T((t=b,r=m,function(){var e=Object(Ve.a)($e.a.mark((function e(a,n){var c,s,i,o;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:_}),n().userLogin.userInfo,c=JSON.parse(localStorage.getItem("userInfo")),s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=7,We.a.put("".concat(He,"/api/user/profile/update"),{first_name:t,last_name:r},s);case 7:i=e.sent,o=i.data,a({type:L,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a({type:R,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}())),i(D.username),j(D.email),h(D.first_name),g(D.last_name)},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"username",children:[Object(Xe.jsx)(yt.a.Label,{children:"Username"}),Object(Xe.jsx)(yt.a.Control,{disabled:!0,type:"text",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"email",children:[Object(Xe.jsx)(yt.a.Label,{children:"Email "}),Object(Xe.jsx)(yt.a.Control,{type:"email",disabled:!0,placeholder:"Enter your email address",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"first-name",children:[Object(Xe.jsx)(yt.a.Label,{children:"First name "}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter your first name",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"last-name",children:[Object(Xe.jsx)(yt.a.Label,{children:"Last Name "}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter your last name",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"password1",children:[Object(Xe.jsx)(yt.a.Label,{children:"Password "}),Object(Xe.jsx)(yt.a.Control,{type:"password",placeholder:"Enter Password",value:v,onChange:function(e){return S(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"password2",children:[Object(Xe.jsx)(yt.a.Label,{children:"Confirm password "}),Object(Xe.jsx)(yt.a.Control,{type:"password",placeholder:"Confirm Password",value:C,onChange:function(e){return k(e.target.value)}})]}),Object(Xe.jsxs)(vt.a,{type:"submit",variant:"primary",children:[" ","Update"]})]})]}),Object(Xe.jsxs)(nt.a,{md:8,sm:6,className:"py-3",children:[Object(Xe.jsx)("h2",{children:"My Orders"}),U?Object(Xe.jsx)(jt,{}):G?Object(Xe.jsx)(pt,{variant:"danger",children:G}):F.length>0?Object(Xe.jsxs)(kt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(Xe.jsx)("thead",{children:Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("th",{children:"ID"}),Object(Xe.jsx)("th",{children:"Date"}),Object(Xe.jsx)("th",{children:"Total"}),Object(Xe.jsx)("th",{children:"Paid"}),Object(Xe.jsx)("th",{children:"Delivered"}),Object(Xe.jsx)("th",{})]})}),Object(Xe.jsx)("tbody",{children:F.map((function(e){return Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("td",{children:e._id}),Object(Xe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(Xe.jsxs)("td",{children:["$",e.totalPrice]}),Object(Xe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(Xe.jsx)(Me.a,{icon:Be.f,style:{color:"red"}})}),Object(Xe.jsx)("td",{children:Object(Xe.jsx)(Je.LinkContainer,{to:"/order/".concat(e._id),children:Object(Xe.jsx)(vt.a,{className:"btn-sm",children:"Details"})})})]},e._id)}))})]}):Object(Xe.jsx)("p",{children:"you dont have any orders"})]})]})},Tt=r(148);var At=function(e){var t=e.step1,r=e.step2,a=e.step3,n=e.step4;return Object(Xe.jsxs)(Tt.a,{className:"justify-content-center mb-4",children:[Object(Xe.jsx)(Tt.a.Item,{className:"m-2",children:t?Object(Xe.jsx)(qe.Link,{style:{color:"var(--primaryColor)"},to:"/login",children:"Login--\x3e"}):Object(Xe.jsx)("p",{style:{color:"var(--black)"},className:"muted",disabled:!0,children:"Login --\x3e"})}),Object(Xe.jsx)(Tt.a.Item,{className:"m-2",children:r?Object(Xe.jsx)(qe.Link,{style:{color:"var(--primaryColor)"},to:"/shipping",children:"Shipping--\x3e"}):Object(Xe.jsx)("p",{style:{color:"var(--black)"},className:"muted",disabled:!0,children:"Shipping --\x3e"})}),Object(Xe.jsx)(Tt.a.Item,{className:"m-2",children:a?Object(Xe.jsx)(qe.Link,{style:{color:"var(--primaryColor)"},to:"/payment",children:"Payment--\x3e"}):Object(Xe.jsx)("p",{style:{color:"var(--black)"},disabled:!0,className:"muted",children:"Payment --\x3e"})}),Object(Xe.jsx)(Tt.a.Item,{className:"m-2",children:n?Object(Xe.jsx)(qe.Link,{style:{color:"var(--primaryColor)"},to:"/placeorder",children:"Place order"}):Object(Xe.jsx)("p",{style:{color:"var(--black)"},className:"muted",disabled:!0,children:"Place order"})})]})};var Dt=function(e){var t=e.history,r=Object(s.c)((function(e){return e.cartList})).shippingAddress,n=Object(a.useState)(r?r.address:""),c=Object(Ze.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(r?r.city:""),d=Object(Ze.a)(l,2),j=d[0],u=d[1],p=Object(a.useState)(r?r.postalCode:""),h=Object(Ze.a)(p,2),O=h[0],x=h[1],m=Object(a.useState)(r?r.country:""),g=Object(Ze.a)(m,2),f=g[0],y=g[1],v=Object(s.b)();return Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)(At,{step1:!0,step2:!0}),Object(Xe.jsx)("h1",{className:"py-3",children:"Shipping"}),Object(Xe.jsxs)(yt.a,{onSubmit:function(e){var r;e.preventDefault(),v((r={address:i,city:j,postalCode:O,country:f},function(){var e=Object(Ve.a)($e.a.mark((function e(t){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:b,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"Address",children:[Object(Xe.jsx)(yt.a.Label,{children:"Address"}),Object(Xe.jsx)(yt.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:i||"",onChange:function(e){return o(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"City",children:[Object(Xe.jsx)(yt.a.Label,{children:"City"}),Object(Xe.jsx)(yt.a.Control,{required:!0,type:"text",placeholder:"Enter City",value:j||"",onChange:function(e){return u(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"PostalCode",children:[Object(Xe.jsx)(yt.a.Label,{children:"PostalCode"}),Object(Xe.jsx)(yt.a.Control,{required:!0,type:"text",placeholder:"Enter PostalCode",value:O||"",onChange:function(e){return x(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"Country",children:[Object(Xe.jsx)(yt.a.Label,{children:"Country"}),Object(Xe.jsx)(yt.a.Control,{required:!0,type:"text",placeholder:"Enter Country",value:f||"",onChange:function(e){return y(e.target.value)}})]}),Object(Xe.jsx)(vt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var Pt=function(e){var t=e.history,r=Object(s.c)((function(e){return e.cartList})).shippingAddress,n=Object(s.b)(),c=Object(a.useState)("Paypal"),i=Object(Ze.a)(c,2),o=i[0],l=i[1];return r.address||t.push("/shipping"),Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)(At,{step1:!0,step2:!0,step3:!0}),Object(Xe.jsxs)(yt.a,{onSubmit:function(e){var r;e.preventDefault(),n((r=o,function(){var e=Object(Ve.a)($e.a.mark((function e(t){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:h,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")},children:[Object(Xe.jsxs)(yt.a.Group,{children:[Object(Xe.jsx)(yt.a.Label,{as:"legend",children:"Select Method"}),Object(Xe.jsx)(nt.a,{children:Object(Xe.jsx)(yt.a.Check,{type:"radio",label:"Paypal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,onChange:function(e){l(e.target.value)}})})]}),Object(Xe.jsxs)(vt.a,{type:"submit",variant:"primary",children:[" ","Continue"]})]})]})};var Ut=function(e){var t=e.history,r=Object(s.c)((function(e){return e.orderCreate})),n=r.order,c=r.error,i=r.success,o=(r.loading,Object(s.b)()),l=Object(s.c)((function(e){return e.cartList}));return l.ItemsPrice=l.cartItems.reduce((function(e,t){return Number(e+t.price*t.qty)}),0).toFixed(2),l.shippingPrice=Number(l.ItemsPrice>100?0:10).toFixed(2),l.TaxPrice=Number(.02*l.ItemsPrice).toFixed(2),l.totalPrice=(Number(l.ItemsPrice)+Number(l.shippingPrice)+Number(l.TaxPrice)).toFixed(2),Object(a.useEffect)((function(){i&&(t.push("/order/".concat(n._id)),o({type:xe}),o({type:O}))}),[i,t]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(At,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:8,children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Shipping"}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:" Shipping:"}),l.shippingAddress.address,", ",l.shippingAddress.city,"  ",l.shippingAddress.postalCode,"  ",l.shippingAddress.country]})]}),Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Payment Method"}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:"Method: "}),l.paymentMethod]})]}),Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Order Items"}),0===l.cartItems.length?Object(Xe.jsx)(pt,{variant:"info",children:"Your cart is empty"}):Object(Xe.jsx)(ft.a,{variant:"flush",children:l.cartItems.map((function(e,t){return Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:1,children:Object(Xe.jsx)(xt.a,{src:"".concat(He).concat(e.image),alt:e.name,width:"50px",height:"50px",rounded:!0})}),Object(Xe.jsx)(nt.a,{children:Object(Xe.jsx)(qe.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(Xe.jsxs)(nt.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(Xe.jsx)(nt.a,{md:4,children:Object(Xe.jsx)(ct.a,{children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)("h2",{children:"Order Summary"})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Total items price:"}),Object(Xe.jsxs)(nt.a,{children:["$",l.ItemsPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Shipping:"}),Object(Xe.jsxs)(nt.a,{children:["$",l.shippingPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Tax:"}),Object(Xe.jsxs)(nt.a,{children:["$",l.TaxPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Total:"}),Object(Xe.jsxs)(nt.a,{children:["$",l.totalPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:c&&Object(Xe.jsx)(pt,{variant:"danger",children:c})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)(vt.a,{type:"button",className:"btn btn-block btn-dark",disabled:0===l.cartItems,onClick:function(e){o(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:be}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.post("".concat(He,"/api/add/order"),e,n);case 6:c=t.sent,s=c.data,r({type:he,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Oe,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}({orderItems:l.cartItems,shippingAddress:l.shippingAddress,paymentMethod:l.paymentMethod,ItemsPrice:l.ItemsPrice,taxPrice:l.TaxPrice,shippingPrice:l.shippingPrice,totalPrice:l.totalPrice})),console.log("placed order")},children:"Place Order"})})]})})})]})]})},Gt=r(80);var Ft=function(e){var t=e.match.params.id,r=Object(s.b)(),n=Object(s.c)((function(e){return e.orderDetails})),c=n.order,i=n.error,o=n.loading,l=Object(s.c)((function(e){return e.userLogin})).userInfo,d=Object(s.c)((function(e){return e.orderPay})),j=d.success,u=d.loading,p=Object(s.c)((function(e){return e.orderDeliver})),b=p.success,h=p.loading;o||i||(c.ItemsPrice=c.orderItems.reduce((function(e,t){return Number(e+t.price*t.qty)}),0).toFixed(2));var O=Object(a.useState)(!1),x=Object(Ze.a)(O,2),m=x[0],g=x[1];return Object(a.useEffect)((function(){!c||j||c._id!==Number(t)||b?(r(Nt(t)),r({type:Ee}),r({type:De})):c.isPaid||(window.paypal?g(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AdRQIbZWaarj_yDJQEbnAlPTDuewkj6kZPK33EwpGVpUD8Lut-k27wT8Sr0ofSndxsv9nXq4TzzoR1Uu",e.async=!0,e.onload=function(){g(!0)},document.body.appendChild(e)}())}),[r,c,t,b,j]),o?Object(Xe.jsx)(jt,{}):i?Object(Xe.jsx)(pt,{variant:"danger",children:i}):Object(Xe.jsxs)("div",{children:[Object(Xe.jsxs)("h1",{children:["Order: ",c._id]}),Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:8,children:Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Shipping"}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:"Name: "}),c.user.name]}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:"Email: "}),c.user.email]}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:" Shipping:"}),c.shippingAddress.address,", ",c.shippingAddress.city,"  ",c.shippingAddress.postalCode,"  ",c.shippingAddress.country]}),c.isDelivered?Object(Xe.jsxs)(pt,{variant:"success",children:[" ","Delivered on $",c.deliveredAt]}):Object(Xe.jsx)(pt,{variant:"info",children:" Not Delivered"})]}),Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Payment Method"}),Object(Xe.jsxs)("p",{children:[Object(Xe.jsx)("strong",{children:"Method: "}),c.paymentMethod]}),c.isPaid?Object(Xe.jsxs)(pt,{variant:"success",children:["Paid on ",c.paidAt]}):Object(Xe.jsx)(pt,{variant:"info",children:"Not Paid"})]}),Object(Xe.jsxs)(ft.a.Item,{children:[Object(Xe.jsx)("h2",{children:"Order Items"}),0===c.orderItems.length?Object(Xe.jsx)(pt,{variant:"info",children:"Your order is empty"}):Object(Xe.jsx)(ft.a,{variant:"flush",children:c.orderItems.map((function(e,t){return Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{md:1,children:Object(Xe.jsx)(xt.a,{src:"".concat(He).concat(e.image),alt:e.name,width:"50px",height:"50px",rounded:!0})}),Object(Xe.jsx)(nt.a,{children:Object(Xe.jsx)(qe.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(Xe.jsxs)(nt.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(Xe.jsx)(nt.a,{md:4,children:Object(Xe.jsxs)(ct.a,{children:[Object(Xe.jsxs)(ft.a,{variant:"flush",children:[Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)("h2",{children:"Order Summary"})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Total items price:"}),Object(Xe.jsxs)(nt.a,{children:["$",c.ItemsPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Shipping:"}),Object(Xe.jsxs)(nt.a,{children:["$",c.shippingPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Tax:"}),Object(Xe.jsxs)(nt.a,{children:["$",c.taxPrice]})]})}),Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsxs)(at.a,{children:[Object(Xe.jsx)(nt.a,{children:"Total:"}),Object(Xe.jsxs)(nt.a,{children:["$",c.totalPrice]})]})}),!c.isPaid&&Object(Xe.jsxs)(ft.a.Item,{children:[u&&Object(Xe.jsx)(jt,{}),m?Object(Xe.jsx)(Gt.PayPalButton,{amount:c.totalPrice,onSuccess:function(e){r(function(e,t){return function(){var r=Object(Ve.a)($e.a.mark((function r(a){var n,c,s,i;return $e.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:ye}),n=JSON.parse(localStorage.getItem("userInfo")),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},r.next=6,We.a.put("".concat(He,"/api/order/").concat(e,"/pay"),t,c);case 6:s=r.sent,i=s.data,a({type:ve,payload:i}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:Se,payload:r.t0.response&&r.t0.response.data.details?r.t0.response.data.details:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(t,e)),r(Nt(t))}}):Object(Xe.jsx)(jt,{})]})]}),Object(Xe.jsx)("div",{className:"paypal-button"}),h&&Object(Xe.jsx)(jt,{}),l&&l.isAdmin&&c.isPaid&&!c.isDelivered&&Object(Xe.jsx)(ft.a.Item,{children:Object(Xe.jsx)(vt.a,{type:"button",className:"btn btn-block",onClick:function(){var e;r((e=t,function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:we}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.put("".concat(He,"/api/order/delivered/").concat(e),{},n);case 6:c=t.sent,s=c.data,r({type:Te,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Ae,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Mark As Delivered"})})]})})]})]})};var Mt=function(e){var t=e.history,r=Object(s.b)(),n=Object(s.c)((function(e){return e.userList})),c=n.loading,i=n.error,o=n.users,l=Object(s.c)((function(e){return e.userLogin})).userInfo,d=Object(s.c)((function(e){return e.userDelete})).success,j=function(e){window.confirm("Are you sure you want to delete this user")&&(r(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:A}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.delete("".concat(He,"/api/user/delete/").concat(e),n);case 6:c=t.sent,s=c.data,r({type:D,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:P,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e)),r({type:U}))};return Object(a.useEffect)((function(){r({type:q}),l&&l.isAdmin?r(function(){var e=Object(Ve.a)($e.a.mark((function e(t,r){var a,n,c,s;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:k}),r().userLogin.userInfo,a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=7,We.a.get("".concat(He,"/api/users"),n);case 7:c=e.sent,s=c.data,t({type:N,payload:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:w,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,l,t,d]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)("h1",{children:"USERS"}),c?Object(Xe.jsx)(jt,{}):i?Object(Xe.jsx)(pt,{variant:"danger",children:i}):Object(Xe.jsxs)(kt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Xe.jsx)("thead",{children:Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("th",{children:"ID"}),Object(Xe.jsx)("th",{children:"NAME"}),Object(Xe.jsx)("th",{children:"EMAIL"}),Object(Xe.jsx)("th",{children:"ADMIN"}),Object(Xe.jsx)("th",{})]})}),Object(Xe.jsx)("tbody",{children:o.map((function(e){return Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("td",{children:e._id}),Object(Xe.jsx)("td",{children:e.name}),Object(Xe.jsx)("td",{children:e.email}),Object(Xe.jsx)("td",{children:e.isAdmin?Object(Xe.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Xe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Xe.jsxs)("td",{children:[Object(Xe.jsx)(Je.LinkContainer,{to:"/admin/user/".concat(e._id),children:Object(Xe.jsx)(vt.a,{variant:"light",className:"btn-sm",children:Object(Xe.jsx)("i",{className:"fas fa-edit",style:{color:"black"}})})}),Object(Xe.jsx)(vt.a,{variant:"danger",className:"btn-sm",onClick:function(){return j(e._id)},children:Object(Xe.jsx)("i",{className:"fas fa-trash",style:{color:"black"}})})]})]},e._id)}))})]})]})};var Jt=function(e){var t=e.match,r=Object(s.b)(),n=Object(s.c)((function(e){return e.userDetails})),c=n.error,i=n.loading,o=n.user,l=Object(s.c)((function(e){return e.message})).success,d=Object(s.c)((function(e){return e.userUpdate})),j=d.error,u=d.loading,p=d.success,b=Object(a.useState)(""),h=Object(Ze.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(""),g=Object(Ze.a)(m,2),f=g[0],y=g[1],v=Object(a.useState)(!1),S=Object(Ze.a)(v,2),_=S[0],L=S[1],R=Object(a.useState)(""),k=Object(Ze.a)(R,2),N=(k[0],k[1],t.params.id);return Object(a.useEffect)((function(){var e;p?r({type:J}):o.name&&o._id===Number(N)?(x(o.username),y(o.email),L(o.isAdmin)):r((e=N,function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.get("".concat(He,"/api/user/get/").concat(e),n);case 6:c=t.sent,s=c.data,r({type:I,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:C,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))}),[o,N,p]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(qe.Link,{to:"/admin/users",children:"Go Back"}),Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)("h1",{children:" Edit User "}),u&&Object(Xe.jsx)(jt,{}),j&&Object(Xe.jsx)(pt,{variant:"danger",children:j}),l&&Object(Xe.jsx)(pt,{variant:"success",children:"user Updated successfully"}),i?Object(Xe.jsx)(jt,{}):c?Object(Xe.jsx)(pt,{variant:"danger",children:c}):Object(Xe.jsxs)(yt.a,{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:G}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.put("".concat(He,"/api/user/update/").concat(e._id),e,n);case 6:c=t.sent,s=c.data,r({type:F}),r({type:I,payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:M,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}({_id:o._id,username:O,email:f,isAdmin:_})),r({type:B})},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"username",children:[Object(Xe.jsx)(yt.a.Label,{children:"Username"}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter a unique username",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"email",children:[Object(Xe.jsx)(yt.a.Label,{children:"Email "}),Object(Xe.jsx)(yt.a.Control,{type:"email",required:!0,placeholder:"Enter your email address",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"isadmin",children:[Object(Xe.jsx)(yt.a.Label,{children:"Password "}),Object(Xe.jsx)(yt.a.Check,{type:"checkbox",label:"is Admin",checked:_,onChange:function(e){return L(e.target.checked)}})]}),Object(Xe.jsxs)(vt.a,{type:"submit",variant:"primary",children:[" ","Update"]})]})]})]})};var Bt=function(e){var t=e.history,r=(e.match,Object(s.b)()),n=Object(s.c)((function(e){return e.ProductList})),c=n.loading,i=n.error,o=n.products,l=n.pages,d=n.page,j=Object(s.c)((function(e){return e.productDelete})),u=j.loading,p=j.error,b=j.success,h=Object(s.c)((function(e){return e.productCreate})),O=h.loading,x=h.error,m=h.success,g=h.product,f=Object(s.c)((function(e){return e.userLogin})).userInfo,y=function(e){window.confirm("Are you sure you want to delete this product")&&r(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:H}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.delete("".concat(He,"/api/products/delete/").concat(e,"/"),n);case 6:r({type:K}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Z,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.details});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))},v=t.location.search;return Object(a.useEffect)((function(){r({type:re}),r({type:q}),f.isAdmin||t.push("/login"),m?t.push("/admin/product/".concat(g._id)):r(ot(v))}),[r,f,t,b,m,g,v]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsxs)(at.a,{className:"align-items-center",children:[Object(Xe.jsx)(nt.a,{children:Object(Xe.jsx)("h1",{children:"Products"})}),Object(Xe.jsx)(nt.a,{className:"text-right",children:Object(Xe.jsxs)(vt.a,{className:"my-3",onClick:function(){r(function(){var e=Object(Ve.a)($e.a.mark((function e(t){var r,a,n,c;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:X}),r=JSON.parse(localStorage.getItem("userInfo")),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,We.a.post("".concat(He,"/api/products/create/"),{},a);case 6:n=e.sent,c=n.data,t({type:ee,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:te,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.details});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())},children:[Object(Xe.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),u&&Object(Xe.jsx)(jt,{}),p&&Object(Xe.jsx)(pt,{variant:"danger",children:p}),O&&Object(Xe.jsx)(jt,{}),x&&Object(Xe.jsx)(pt,{variant:"danger",children:x}),c?Object(Xe.jsx)(jt,{}):i?Object(Xe.jsx)(pt,{variant:"danger",children:i}):Object(Xe.jsxs)("div",{children:[Object(Xe.jsxs)(kt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Xe.jsx)("thead",{children:Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("th",{children:"ID"}),Object(Xe.jsx)("th",{children:"NAME"}),Object(Xe.jsx)("th",{children:"PRICE"}),Object(Xe.jsx)("th",{children:"CATEGORY"}),Object(Xe.jsx)("th",{children:"BRAND"}),Object(Xe.jsx)("th",{})]})}),Object(Xe.jsx)("tbody",{children:o.map((function(e){return Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("td",{children:e._id}),Object(Xe.jsx)("td",{children:e.name}),Object(Xe.jsxs)("td",{children:["$",e.price]}),Object(Xe.jsx)("td",{children:e.category}),Object(Xe.jsx)("td",{children:e.brand}),Object(Xe.jsxs)("td",{children:[Object(Xe.jsx)(Je.LinkContainer,{to:"/admin/product/".concat(e._id),children:Object(Xe.jsx)(vt.a,{variant:"light",className:"btn-sm",children:Object(Xe.jsx)("i",{className:"fas fa-edit"})})}),Object(Xe.jsx)(vt.a,{variant:"danger",className:"btn-sm",onClick:function(){return y(e._id)},children:Object(Xe.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(Xe.jsx)(ht,{page:d,pages:l,isAdmin:!0})]})]})};var qt=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(a.useState)(""),i=Object(Ze.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(0),j=Object(Ze.a)(d,2),u=j[0],p=j[1],b=Object(a.useState)(""),h=Object(Ze.a)(b,2),O=h[0],x=h[1],m=Object(a.useState)(""),g=Object(Ze.a)(m,2),f=g[0],y=g[1],v=Object(a.useState)(""),S=Object(Ze.a)(v,2),E=S[0],I=S[1],C=Object(a.useState)(0),_=Object(Ze.a)(C,2),L=_[0],R=_[1],k=Object(a.useState)(""),N=Object(Ze.a)(k,2),w=N[0],T=N[1],A=Object(a.useState)(!1),D=Object(Ze.a)(A,2),P=D[0],U=D[1],G=Object(s.b)(),F=Object(s.c)((function(e){return e.ProductDetails})),M=F.error,J=F.loading,B=F.product,q=Object(s.c)((function(e){return e.productUpdate})),z=q.error,Q=q.loading,$=q.success;Object(a.useEffect)((function(){$?(G({type:se}),r.push("/admin/products")):B.name&&B._id===Number(n)?(l(B.name),p(B.price),x(B.image),y(B.brand),I(B.category),R(B.countInStock),T(B.description)):G(lt(n))}),[G,B,n,r,$]);var V=function(){var e=Object(Ve.a)($e.a.mark((function e(t){var r,a,c,s,i,o;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),a.append("product_id",n),U(!0),c=JSON.parse(localStorage.getItem("userInfo")),e.prev=6,s={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(c.token)}},e.next=10,We.a.post("".concat(He,"/api/products/upload/"),a,s);case 10:i=e.sent,o=i.data,x(o),U(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),U(!1);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(qe.Link,{to:"/admin/products",children:"Go Back"}),Object(Xe.jsxs)(Ct,{children:[Object(Xe.jsx)("h1",{children:"Edit Product"}),Q&&Object(Xe.jsx)(jt,{}),z&&Object(Xe.jsx)(pt,{variant:"danger",children:z}),J?Object(Xe.jsx)(jt,{}):M?Object(Xe.jsx)(pt,{variant:"danger",children:M}):Object(Xe.jsxs)(yt.a,{onSubmit:function(e){e.preventDefault(),G(function(e){return function(){var t=Object(Ve.a)($e.a.mark((function t(r){var a,n,c,s;return $e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ae}),a=JSON.parse(localStorage.getItem("userInfo")),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,We.a.put("".concat(He,"/api/products/update/").concat(e._id,"/"),e,n);case 6:c=t.sent,s=c.data,r({type:ne,payload:s}),r({type:Y,payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:ce,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.details});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}({_id:n,name:o,price:u,image:O,brand:f,category:E,countInStock:L,description:w}))},children:[Object(Xe.jsxs)(yt.a.Group,{controlId:"name",children:[Object(Xe.jsx)(yt.a.Label,{children:"Name"}),Object(Xe.jsx)(yt.a.Control,{type:"name",placeholder:"Enter name",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"price",children:[Object(Xe.jsx)(yt.a.Label,{children:"Price"}),Object(Xe.jsx)(yt.a.Control,{type:"number",placeholder:"Enter price",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"image",children:[Object(Xe.jsx)(yt.a.Label,{children:"Image"}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter image",value:O,onChange:function(e){return x(e.target.value)}}),Object(Xe.jsx)(yt.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:V}),P&&Object(Xe.jsx)(jt,{})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"brand",children:[Object(Xe.jsx)(yt.a.Label,{children:"Brand"}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter brand",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"countinstock",children:[Object(Xe.jsx)(yt.a.Label,{children:"Stock"}),Object(Xe.jsx)(yt.a.Control,{type:"number",placeholder:"Enter stock",value:L,onChange:function(e){return R(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"category",children:[Object(Xe.jsx)(yt.a.Label,{children:"Category"}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter category",value:E,onChange:function(e){return I(e.target.value)}})]}),Object(Xe.jsxs)(yt.a.Group,{controlId:"description",children:[Object(Xe.jsx)(yt.a.Label,{children:"Description"}),Object(Xe.jsx)(yt.a.Control,{type:"text",placeholder:"Enter description",value:w,onChange:function(e){return T(e.target.value)}})]}),Object(Xe.jsx)(vt.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})};var zt=function(e){var t=e.history,r=Object(s.b)(),n=Object(s.c)((function(e){return e.allOrders})),c=n.loading,i=n.error,o=n.orders,l=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(a.useEffect)((function(){l&&l.isAdmin?r(function(){var e=Object(Ve.a)($e.a.mark((function e(t){var r,a,n,c;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Re}),r=JSON.parse(localStorage.getItem("userInfo")),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,We.a.get("".concat(He,"/api/orders"),a);case 6:n=e.sent,c=n.data,t({type:ke,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ne,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()):t.push("/login")}),[]),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)("h1",{children:"Orders"}),c?Object(Xe.jsx)(jt,{}):i?Object(Xe.jsx)(pt,{variant:"danger",children:i}):Object(Xe.jsxs)(kt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Xe.jsx)("thead",{children:Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("th",{children:"ID"}),Object(Xe.jsx)("th",{children:"USER"}),Object(Xe.jsx)("th",{children:"DATE"}),Object(Xe.jsx)("th",{children:"Total"}),Object(Xe.jsx)("th",{children:"PAID"}),Object(Xe.jsx)("th",{children:"DELIVERED"}),Object(Xe.jsx)("th",{})]})}),Object(Xe.jsx)("tbody",{children:o.map((function(e){return Object(Xe.jsxs)("tr",{children:[Object(Xe.jsx)("td",{children:e._id}),Object(Xe.jsx)("td",{children:e.user&&e.user.name}),Object(Xe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(Xe.jsxs)("td",{children:["$",e.totalPrice]}),Object(Xe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(Xe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Xe.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(Xe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Xe.jsx)("td",{children:Object(Xe.jsx)(Je.LinkContainer,{to:"/order/".concat(e._id),children:Object(Xe.jsx)(vt.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})};var Qt=function(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(Xe.jsxs)(qe.BrowserRouter,{children:[Object(Xe.jsx)(tt,{}),Object(Xe.jsxs)("main",{className:"container",children:[Object(Xe.jsx)(Ke.d,{path:"/",component:gt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/products/:id",component:Et}),Object(Xe.jsx)(Ke.d,{path:"/login",component:_t}),e&&Object(Xe.jsx)(Ke.d,{path:"/profile",component:wt}),Object(Xe.jsx)(Ke.d,{path:"/shipping",component:Dt}),Object(Xe.jsx)(Ke.d,{path:"/payment",component:Pt}),Object(Xe.jsx)(Ke.d,{path:"/placeorder",component:Ut}),Object(Xe.jsx)(Ke.d,{path:"/order/:id",component:Ft}),Object(Xe.jsx)(Ke.d,{path:"/shoppingcart/:id?",component:Rt}),Object(Xe.jsx)(Ke.d,{path:"/signup",component:Lt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/admin/users",component:Mt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/admin/user/:id",component:Jt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/admin/products",component:Bt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/admin/product/:id",component:qt,exact:!0}),Object(Xe.jsx)(Ke.d,{path:"/admin/orders",component:zt,exact:!0})]}),Object(Xe.jsx)(rt,{})]})};c.a.render(Object(Xe.jsx)(s.a,{store:Fe,children:Object(Xe.jsx)(Qt,{})}),document.getElementById("root"))},93:function(e,t,r){}},[[119,1,2]]]);
//# sourceMappingURL=main.f471a4dd.chunk.js.map